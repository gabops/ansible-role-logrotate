---
- name: Configure logrotate
  template:
    src: logrotate.conf.j2
    dest: /etc/logrotate.conf
    mode: "0644"
  when: logrotate_config_global | length

- name: Configure logrotate files
  template:
    src: config_files.j2
    dest: /etc/logrotate.d/{{ item.name }}
    mode: "0644"
  loop: "{{ logrotate_config_files }}"
  when: logrotate_config_files | length
